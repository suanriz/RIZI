import{d as W,u as I,c as p,r as m,o as B,a as r,b as a,e as u,_ as E,w as M,F as v,f as h,g as O,h as l,i as P,j as g,N as U,k as F,l as G,t as w,m as L}from"./index-CaCpXov9.js";import{_ as $}from"./Pagination-BsMcY3io.js";import{T as j,_ as A}from"./index-B62ZM0bC.js";import"./index-BLAxhx4E.js";const K={class:"contentWrap"},Y={class:"filterWrap"},q={class:"newsWrap"},H=["onClick"],J={class:"newsImgWrap"},Q=["alt"],R={class:"newsTxtWrap"},X=W({__name:"NewsView",setup(Z){const k="https://suanriz.github.io/rizi/",s=I(),c=p(()=>s.news),_=m({current:1,pageSize:4}),V=p(()=>y(c.value,_.value)),b=p(()=>s.newsParams),f=m(0),o=m({isOpen:!1,list:[],data:{id:0,title:"",introduction:"",link:"",img:"",type:0}}),y=(n,t)=>{const i=(t.current-1)*t.pageSize,d=i+t.pageSize;return n.slice(i,d)},N=n=>{const t={...b.value,type:n};s.handleGetNews(t)},z=n=>{o.value.isOpen=!0,o.value.list=c.value,o.value.data=n};return B(()=>{s.handleGetNews()}),(n,t)=>{const i=E,d=A,D=j,x=$,S=O,T=P("lazy");return l(),r(v,null,[a("section",K,[u(i,{title:"最新消息"}),a("div",Y,[u(D,{"active-key":f.value,"onUpdate:activeKey":t[0]||(t[0]=e=>f.value=e),onChange:N},{default:M(()=>[(l(!0),r(v,null,h(g(U),e=>(l(),F(d,{key:e.value,tab:e.label,"show-size-changer":""},null,8,["tab"]))),128))]),_:1},8,["active-key"])]),a("div",q,[(l(!0),r(v,null,h(V.value,e=>(l(),r("div",{key:e.title,class:"news",onClick:C=>z(e)},[a("div",J,[G(a("img",{alt:e.title,onLoad:t[1]||(t[1]=C=>g(s).loading=!1)},null,40,Q),[[T,g(k)+e.img]])]),a("div",R,[a("h3",null,w(e.title),1),a("p",null,w(e.introduction),1)])],8,H))),128))]),u(x,{modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=e=>_.value=e),total:c.value.length},null,8,["modelValue","total"])]),u(S,{modelValue:o.value,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value=e)},null,8,["modelValue"])],64)}}}),se=L(X,[["__scopeId","data-v-afd531d6"]]);export{se as default};
