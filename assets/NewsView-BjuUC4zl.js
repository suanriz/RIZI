import{d as T,u as W,c as p,r as m,o as B,a as l,b as r,e as a,f as c,w as P,F as v,g as f,_ as E,h as I,i as M,j as O,k as w,N as U,l as F,t as h,m as G}from"./index-DrJslnNi.js";import{_ as L}from"./Pagination-CSLzMLD0.js";import{T as $,_ as j}from"./index-ZflRsn0A.js";import"./index-7RYMVm2b.js";const K={class:"contentWrap"},Y={class:"filterWrap"},q={class:"newsWrap"},A=["onClick"],H={class:"newsImgWrap"},J=["alt"],Q={class:"newsTxtWrap"},R=T({__name:"NewsView",setup(X){const s=W(),u=p(()=>s.news),_=m({current:1,pageSize:4}),k=p(()=>V(u.value,_.value)),y=p(()=>s.newsParams),g=m(0),o=m({isOpen:!1,list:[],data:{id:0,title:"",introduction:"",link:"",img:"",type:0}}),V=(n,t)=>{const i=(t.current-1)*t.pageSize,d=i+t.pageSize;return n.slice(i,d)},b=n=>{const t={...y.value,type:n};s.handleGetNews(t)},N=n=>{o.value.isOpen=!0,o.value.list=u.value,o.value.data=n};return B(()=>{s.handleGetNews()}),(n,t)=>{const i=E,d=j,x=$,D=L,S=I,z=M("lazy");return l(),r(v,null,[a("section",K,[c(i,{title:"最新消息"}),a("div",Y,[c(x,{"active-key":g.value,"onUpdate:activeKey":t[0]||(t[0]=e=>g.value=e),onChange:b},{default:P(()=>[(l(!0),r(v,null,f(w(U),e=>(l(),O(d,{key:e.value,tab:e.label,"show-size-changer":""},null,8,["tab"]))),128))]),_:1},8,["active-key"])]),a("div",q,[(l(!0),r(v,null,f(k.value,e=>(l(),r("div",{key:e.title,class:"news",onClick:C=>N(e)},[a("div",H,[F(a("img",{alt:e.title,onLoad:t[1]||(t[1]=C=>w(s).loading=!1)},null,40,J),[[z,e.img]])]),a("div",Q,[a("h3",null,h(e.title),1),a("p",null,h(e.introduction),1)])],8,A))),128))]),c(D,{modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=e=>_.value=e),total:u.value.length},null,8,["modelValue","total"])]),c(S,{modelValue:o.value,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value=e)},null,8,["modelValue"])],64)}}}),ne=G(R,[["__scopeId","data-v-c342703a"]]);export{ne as default};
